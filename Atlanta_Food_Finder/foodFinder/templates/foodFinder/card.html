<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Restaurant Card</title>
    <!-- Bulma CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
</head>
<body>

<div id="restaurant-list" style="max-width: 800px; margin: 20px auto;"></div>"

<script>
    function displayPlaces(places) {
        const resultsContainer = document.getElementById('restaurant-list');
        resultsContainer.innerHTML = ''; // clear

        places.forEach(place => {
            const card =
                <div class="card" style="margin-bottom: 20px;">
                    <div class="card-content">
                        <div class="media">
                            <figure class="media-left">
                                <img src="https://via.placeholder.com/150" alt="Restaurant Image">
                            </figure>
                            <div class="media-content">
                                <p class="title is-4">${place.name} <span class="tag is-light is-medium">$${place.price_level || 'N/A'}</span></p>
                                <p class="subtitle is-6">
                                    <span>â˜… ${place.rating || 'N/A'}</span> <br>
                                    ${place.address || 'No Address Available'}
                                </p>
                            </div>
                        </div>
                        <div class="content">
                            <p><strong>Top Review:</strong> This is where the top review will go.</p>
                        </div>
                    </div>
                </div>
        ;
        resultsContainer.innerHTML += card;
        });
        }


        // Function to load the initial places on page load
        async function loadInitialPlaces() {
            const response = await fetch('/initial');  // Fetch data gmapsapi.py
            const data = await response.json();
            displayPlaces(data.places);  // Pass the data to displayPlaces to render
        }

        // Load initial places when the page loads
        window.onload = loadInitialPlaces;
</script>
</body>
</html>